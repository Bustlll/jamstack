<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TXG</title>
  
    <link rel="icon" type="image/x-icon" href="sshot.ico">
 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="loader.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
</head>
<body>


    
    
 <h1>Deploy in production, play with it, I'm releasing the full operational version soon!</h1>


  
   <!-- navbar space -->
    <nav>
       
        <label for="check">
            <i class="hidden-menu" id="hmenu">Menu</i>
        </label>
        <a href="#" class="logo">TOXTAT</a>
        <ul>
            <li><a accesskey="a" href="/index.html">Home</a></li>
        <li><a accesskey="q" href="/menu.html">Menu</a></li>
            
        </ul>
    </nav>
    <!-- navbar space -->
    <div class="box" id="box"></div>
         
    <!-- main content space -->
    <div class="mainContent" >
        <section class="one">
             <!-- table content space -->
            <table class="content-table" id="content-table">
                <thead>
                  <tr>
                    <th class="rank">#</th>
                    <th class="name">Name</th>
                    <th class="instagram">Instagram</th>
                    <th class="youtube">Youtube</th>
                    <th class="twitch">Twitch</th>
                    <th class="reddit">Reddit</th>
                    <th class="twitter">Twitter</th>
                    <th class="alive">Alive</th>
                    <th class="region">REG</th>
                 
                  </tr>
                </thead>
                <tbody id="cryptocurrencies">
                 
                </tbody>
              </table>

             
    
               
        </section>

        

        <section class="two">

            <table class="content-table" id="content-table">
                <thead>
                  <tr>
                    <th class="rank">#</th>
                    <th class="name">Name</th>
                    <th class="instagram">Instagram</th>
                    <th class="youtube">Youtube</th>
                    <th class="twitch">Twitch</th>
                    <th class="reddit">Reddit</th>
                    <th class="twitter">Twitter</th>
                    <th class="alive">Alive</th>
                    <th class="region">REG</th>
                 
                  </tr>
                </thead>
                <tbody id="cryptocurrencies2">
                 
                </tbody>
              </table> 

         
            <!-- <button type="button"class="btnSocials" id="callba">Add myself</button> -->
            <div class="header"></div>


            </section>

            <!-- <div class="centered" id="loading"><IMG SRC="Looped.gif"></div> -->

           
        <section class="three">
            
            <table class="content-table" id="content-table">
                <thead>
                  <tr>
                    <th class="rank">#</th>
                    <th class="name">Name</th>
                    <th class="instagram">Instagram</th>
                    <th class="youtube">Youtube</th>
                    <th class="twitch">Twitch</th>
                    <th class="reddit">Reddit</th>
                    <th class="twitter">Twitter</th>
                    <th class="alive">Alive</th>
                    <th class="region">REG</th>
                 
                  </tr>
                </thead>
                <tbody id="cryptocurrencies3">
                 
                </tbody>
              </table> 
            
            </section>


                <section class="four">
            
                    <table class="content-table" id="content-table">
                        <thead>
                          <tr>
                            <th class="rank">#</th>
                            <th class="name">Name</th>
                            <th class="instagram">Instagram</th>
                            <th class="youtube">Youtube</th>
                            <th class="twitch">Twitch</th>
                            <th class="reddit">Reddit</th>
                            <th class="twitter">Twitter</th>
                            <th class="alive">Alive</th>
                            <th class="region">REG</th>
                         
                          </tr>
                        </thead>
                        <tbody id="cryptocurrencies4">
                         
                        </tbody>
                      </table> 
                    
                    </section>
            
                    <section class="five">
            
                        <table class="content-table" id="content-table">
                            <thead>
                              <tr>
                                <th class="rank">#</th>
                                <th class="name">Name</th>
                                <th class="instagram">Instagram</th>
                                <th class="youtube">Youtube</th>
                                <th class="twitch">Twitch</th>
                                <th class="reddit">Reddit</th>
                                <th class="twitter">Twitter</th>
                                <th class="alive">Alive</th>
                                <th class="region">REG</th>
                             
                              </tr>
                            </thead>
                            <tbody id="cryptocurrencies5">
                             
                            </tbody>
                          </table> 
                        
                        </section>

                        <section class="six">
            
                            <table class="content-table" id="content-table">
                                <thead>
                                  <tr>
                                    <th class="rank">#</th>
                                    <th class="name">Name</th>
                                    <th class="instagram">Instagram</th>
                                    <th class="youtube">Youtube</th>
                                    <th class="twitch">Twitch</th>
                                    <th class="reddit">Reddit</th>
                                    <th class="twitter">Twitter</th>
                                    <th class="alive">Alive</th>
                                    <th class="region">REG</th>
                                 
                                  </tr>
                                </thead>
                                <tbody id="cryptocurrencies6">
                                 
                                </tbody>
                              </table> 
                            
                            </section>

                            <section class="seven">
            
                                <table class="content-table" id="content-table">
                                    <thead>
                                      <tr>
                                        <th class="rank">#</th>
                                        <th class="name">Name</th>
                                        <th class="instagram">Instagram</th>
                                        <th class="youtube">Youtube</th>
                                        <th class="twitch">Twitch</th>
                                        <th class="reddit">Reddit</th>
                                        <th class="twitter">Twitter</th>
                                        <th class="alive">Alive</th>
                                        <th class="region">REG</th>
                                     
                                      </tr>
                                    </thead>
                                    <tbody id="cryptocurrencies7">
                                     
                                    </tbody>
                                  </table> 
                                
                                </section>

                                <section class="eight">
            
                                    <table class="content-table" id="content-table">
                                        <thead>
                                          <tr>
                                            <th class="rank">#</th>
                                            <th class="name">Name</th>
                                            <th class="instagram">Instagram</th>
                                            <th class="youtube">Youtube</th>
                                            <th class="twitch">Twitch</th>
                                            <th class="reddit">Reddit</th>
                                            <th class="twitter">Twitter</th>
                                            <th class="alive">Alive</th>
                                            <th class="region">REG</th>
                                         
                                          </tr>
                                        </thead>
                                        <tbody id="cryptocurrencies8">
                                         
                                        </tbody>
                                      </table> 
                                    
                                    </section>

                                    <section class="nine">
            
                                        <table class="content-table" id="content-table">
                                            <thead>
                                              <tr>
                                                <th class="rank">#</th>
                                                <th class="name">Name</th>
                                                <th class="instagram">Instagram</th>
                                                <th class="youtube">Youtube</th>
                                                <th class="twitch">Twitch</th>
                                                <th class="reddit">Reddit</th>
                                                <th class="twitter">Twitter</th>
                                                <th class="alive">Alive</th>
                                                <th class="region">REG</th>
                                             
                                              </tr>
                                            </thead>
                                            <tbody id="cryptocurrencies9">
                                             
                                            </tbody>
                                          </table> 
                                        
                                        </section>

                                        <section class="ten">
            
                                            <table class="content-table" id="content-table">
                                                <thead>
                                                  <tr>
                                                    <th class="rank">#</th>
                                                    <th class="name">Name</th>
                                                    <th class="instagram">Instagram</th>
                                                    <th class="youtube">Youtube</th>
                                                    <th class="twitch">Twitch</th>
                                                    <th class="reddit">Reddit</th>
                                                    <th class="twitter">Twitter</th>
                                                    <th class="alive">Alive</th>
                                                    <th class="region">REG</th>
                                                 
                                                  </tr>
                                                </thead>
                                                <tbody id="cryptocurrencies10">
                                                 
                                                </tbody>
                                              </table> 
                                            
                                            </section>
    </div>
 
    <!-- <style>

table { 
  width: 95%; 
  margin: 0 auto;
  border-collapse: collapse; 
}

tr:nth-of-type(odd) { 
  background: #eee; 
}
th { 
  background: rgba(12, 14, 12, 0.849); 
  color: white; 
  font-weight: bold; 
}
td, th { 
  padding: 6px; 
  border: 1px solid #ccc; 
  text-align: left; 
}
@media 
only screen and (max-width: 760px),
(min-device-width: 768px) and (max-device-width: 1024px)  {


	table, thead, tbody, th, td, tr { 
		display: block; 
	}
	
	tr { border: 1px solid rgb(0, 0, 0); }
	
	td { 
	
		border: none;
		border-bottom: 1px solid #eee; 
		position: relative;
		padding-left: 50%; 
	}
	
	td:before { 
	
		position: absolute;
	
		top: 6px;
		left: 6px;
		width: 45%; 
		padding-right: 10px; 
		white-space: nowrap;
	}
	
}
    </style> -->
    <script>
// I'm using the result const to show that you can continue to extend the chain from the returned promise


function redirectTimeoutId() {window.setTimeout(redirectToHomepage, 300000)}
function redirectToHomepage() {
    window.location.href = '/coplod.html'; 
  }

window.onload = function(){
    redirectTimeoutId()
}

        //dark mode switch
        
        // const chk = document.getElementById('chk');
        //     chk.addEventListener('change', () => {
	    //     document.body.classList.toggle('white'); 

        //     });

        //Confetti
function confet() {
    var box = document.getElementById("box");
    var colors = ['red', 'green', 'blue', 'yellow', 'purple', 'orange', 'pink'];
for (var i = 0; i < 1500; i++) {
    var div = document.createElement("div");
    div.classList.add("confetti");
    box.appendChild(div);
}
var confetti = document.querySelectorAll('.confetti');
for (var i = 0; i < confetti.length; i++) {
        var size = Math.random() * 0.01 * [i];
        confetti[i].style.width = 5 + size + 'px';
        confetti[i].style.height = 16 + size + 'px';
        confetti[i].style.left = Math.random() * innerWidth + 'px';
        var background = colors[Math.floor(Math.random() * colors.length)];
        confetti[i].style.backgroundColor = background;
        box.children[i].style.transform = "rotate("+ size*[i] +"deg)";
}
}


// const result1 = fetch('https://toxtat.com/api/loadtable', { method: 'get' })
// .then(response => response.json()) 
// .then(res => {
//     function getRowPositions(element) {
//         var rowJavascript = element.parentNode.parentNode;
//         var rowjQuery = $(element).closest("tr");
//         let a = rowJavascript.rowIndex -1;
//         indexPos.push(a);
//         localStorage.setItem('ID', a);
//         localStorage.ID = a;
//     }


//     var xhReq = new XMLHttpRequest();
//     xhReq.open("GET", "https://toxtat.com/api/loadtable", false,);
//     xhReq.send(null);

//     const data1 = JSON.parse(xhReq.responseText); 
//     const data = JSON.stringify(data1);

//     var cryptocurrencies;
//         var timerId;
//         var updateInterval = 2000000;

//         let rowPos;
//         let indexPos = [];
//         let ids;
       
//         function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



//         function reposition() {
//             var height = $("#cryptocurrencies .cryptocurrency").height();
//             var y = height;
//             for(var i = 0; i < cryptocurrencies.length; i++) {
//                 cryptocurrencies[i].$item.css("top", y + "px");
//                 y += height;			
//             }
//         }  
//         function updateRanks(cryptocurrencies) {
//             for(var i = 0; i < cryptocurrencies.length; i++) {
//                 cryptocurrencies[i].$item.find(".rank").text(i + 1);	
//             }
//         }

//         function fetchNewData(data,attributeName,name){
//             for(var x in data){
//                 if((data[x].name == name) == true) {
//                     return data[x][attributeName];
//                 }
//             }
//             return null;
//         }      
          

//         function getNewData(){
//             // get the new data for each coin and change to their new values
//             var newReq = new XMLHttpRequest();
//             newReq.open("GET", SUPABASE_DATABASE, false);
//             newReq.send(null);
//             var newData1 = JSON.parse(newReq.responseText); 
//             var newData = JSON.stringify(newData1);


//             updateRanks(cryptocurrencies);
//             reposition();
//             console.log('Finished retrieving new data');
            
//         }

//         function leaderboards(users) {
//   return users.sort((a, b) => b.cash-a.cash);
// }
// leaderboards(data1);

    
//         function resetBoard() {
//             var $list = $("#cryptocurrencies");
//             $list.find(".cryptocurrency").remove();
//             if(timerId !== undefined) {
//                 clearInterval(timerId);
//             }

           
//             cryptocurrencies = [];
//             for(let i = 0;i < 11;i++){
//     //function for comparing dates from server as the old time and client as the new time
//                 function compareData(){
//                     let parsed1 = data1[i].Date; 
//                     let newTime = new Date();
//                     let newTfact = newTime.getTime();
//                     let diferenceTime = newTfact - parsed1;
//                     let differenD = Math.floor(diferenceTime / (1000 * 3600 * 23));
//                     return differenD + " days";
//                 }
                
//                 cryptocurrencies.push(
//                     {
//                         name : data1[i].name,
//                         instagram: data1[i].instagram,
//                         youtube: data1[i].youtube,
//                         twitch: data1[i].twitch,
//                         reddit: data1[i].reddit,
//                         twitter: data1[i].twitter,
//                         alive: data1[i].alive,
//                         region: data1[i].region,
//                         alive: compareData(),
//                         percent_change_24h: data1[i].cash,

//                     }
//                 )
//             }
      
           
            
//             for(var i = 0; i < cryptocurrencies.length; i++) {

//                 var $item = $(
//                     "<tr class='cryptocurrency'>" + 
//                         "<th class='rank'>" + (i + 1) + "</th>" + 
//                         "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
//                         "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
//                         "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
//                         "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
//                         "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
//                         "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
//                         // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
//                         "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
//                         //this button executes 2 functions, get the row position and the action, add cash
//                         "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

//                     "</tr>"
//                     // + "&nbsp &nbsp" + "<button type='button' class='addmenubutt' id='addmenubuttid' onclick='getRowPositions(this),getIdsOfRow()'>add</button>"+"</td>" +
//                 );

//                 cryptocurrencies[i].$item = $item;
//                 $list.append($item);

          
             
//             }
//             cryptocurrencies.sort(descending);
//             updateRanks(cryptocurrencies);
//             reposition();
            
//             // fetch new data for the updateInterval
//             timerId = setInterval("getNewData();", updateInterval);

//         }	
//         resetBoard();

    
// })


const url = '/wreckthisbeach/myman';
const result = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

    
            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET",`${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 1);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 0;i < 11;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 23));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                    // + "&nbsp &nbsp" + "<button type='button' class='addmenubutt' id='addmenubuttid' onclick='getRowPositions(this),getIdsOfRow()'>add</button>"+"</td>" +
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})



//2 table

const result2 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

  


            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies2 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 12);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies2");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 11;i < 22;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                    // + "&nbsp &nbsp" + "<button type='button' class='addmenubutt' id='addmenubuttid' onclick='getRowPositions(this),getIdsOfRow()'>add</button>"+"</td>" +
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//3 table 


const result3 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {




            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies3 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 23);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies3");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 23;i < 32;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//4 table 


const result4 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

    
            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies4 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 32);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies4");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 32;i < 43;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//5 table 


const result5 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

    
    

            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies5 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 43);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies5");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 43;i < 54;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//6 table 


const result6 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

    

            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies6 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 54);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies6");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 54;i < 65;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//7 table 


const result7 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

    

            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies7 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 65);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies7");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 65;i < 76;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//8 table 


const result8 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {



            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies8 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 76);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies8");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 76;i < 87;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//9 table 


const result9 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {




            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies9 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 87);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies9");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 87;i < 98;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})

//10 table 


const result10 = fetch(`${url}`, { method: 'get' })
  .then(response => response.json()) 
  .then(res => {

    
   

            function getRowPositions(element) {
            var rowJavascript = element.parentNode.parentNode;
            var rowjQuery = $(element).closest("tr");
            let a = rowJavascript.rowIndex -1;
            indexPos.push(a);
            localStorage.setItem('ID', a);
            localStorage.ID = a;
        }

        var xhReq = new XMLHttpRequest();
        xhReq.open("GET", `${url}`, false,);
        xhReq.send(null);

        const data1 = JSON.parse(xhReq.responseText); 
        const data = JSON.stringify(data1);
        // initialization
        var cryptocurrencies;
        var timerId;
        var updateInterval = 2000000;

        let rowPos;
        let indexPos = [];
        let ids;
       

     
        // function ascending(a, b) { return a.percent_change_24h > b.percent_change_24h ? 1 : -1; }
        function descending(a, b) { return a.percent_change_24h < b.percent_change_24h ? 1 : -1; }     



        function reposition() {
            var height = $("#cryptocurrencies10 .cryptocurrency").height();
            var y = height;
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.css("top", y + "px");
                y += height;			
            }
        }  
        
        function updateRanks(cryptocurrencies) {
            for(var i = 0; i < cryptocurrencies.length; i++) {
                cryptocurrencies[i].$item.find(".rank").text(i + 97);	
            }
        }

        function fetchNewData(data,attributeName,name){
            for(var x in data){
                if((data[x].name == name) == true) {
                    return data[x][attributeName];
                }
            }
            return null;
        }      
          

        function getNewData(){
            // get the new data for each coin and change to their new values
            var newReq = new XMLHttpRequest();
            newReq.open("GET", SUPABASE_DATABASE, false);
            newReq.send(null);
            var newData1 = JSON.parse(newReq.responseText); 
            var newData = JSON.stringify(newData1);


            updateRanks(cryptocurrencies);
            reposition();
            console.log('Finished retrieving new data');
            
        }

        function leaderboards(users) {
  return users.sort((a, b) => b.cash-a.cash);
}
leaderboards(data1);

    
        function resetBoard() {
            var $list = $("#cryptocurrencies10");
            $list.find(".cryptocurrency").remove();
            if(timerId !== undefined) {
                clearInterval(timerId);
            }

           
            cryptocurrencies = [];
            for(let i = 97;i < 101;i++){
    //function for comparing dates from server as the old time and client as the new time
                function compareData(){
                    let parsed1 = data1[i].Date; 
                    let newTime = new Date();
                    let newTfact = newTime.getTime();
                    let diferenceTime = newTfact - parsed1;
                    let differenD = Math.floor(diferenceTime / (1000 * 3600 * 24));
                    return differenD + " days";
                }
                
                cryptocurrencies.push(
                    {
                        name : data1[i].name,
                        instagram: data1[i].instagram,
                        youtube: data1[i].youtube,
                        twitch: data1[i].twitch,
                        reddit: data1[i].reddit,
                        twitter: data1[i].twitter,
                        alive: data1[i].alive,
                        region: data1[i].region,
                        alive: compareData(),
                        percent_change_24h: data1[i].cash,

                    }
                )
            }
      
           
            
            for(var i = 0; i < cryptocurrencies.length; i++) {

                var $item = $(
                    "<tr class='cryptocurrency'>" + 
                        "<th class='rank'>" + (i + 1) + "</th>" + 
                        "<td class='name'>" + cryptocurrencies[i].name + "</td>" + 
                        "<td class='instagram'>" + cryptocurrencies[i].instagram + "</td>" + 
                        "<td class='youtube'>" + cryptocurrencies[i].youtube + "</td>" + 
                        "<td class='twitch'>" + cryptocurrencies[i].twitch + "</td>" + 
                        "<td class='reddit'>" + cryptocurrencies[i].reddit + "</td>" + 
                        "<td class='twitter'>" + cryptocurrencies[i].twitter + "</td>" + 
                        // "<td class='percent_change_24h'>" + cryptocurrencies[i].percent_change_24h + "</td>" +
                        "<td class='ailve'>" + cryptocurrencies[i].alive + "</td>" + 
                        //this button executes 2 functions, get the row position and the action, add cash
                        "<td class='region'>" + cryptocurrencies[i].region + "</td>" +
                         

                    "</tr>"
                );

                cryptocurrencies[i].$item = $item;
                $list.append($item);

          
             
            }
            cryptocurrencies.sort(descending);
            updateRanks(cryptocurrencies);
            reposition();
            
            // fetch new data for the updateInterval
            timerId = setInterval("getNewData();", updateInterval);

        }	
        resetBoard();


})


    </script>

    <!-- main content space -->
</body>
</html>