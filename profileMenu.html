<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSG</title>
    <link rel="icon" type="image/x-icon" href="sshot.ico">
    <link rel="stylesheet" href="style.css">
    <script src="https://js.stripe.com/v3/"></script>
    <script src="localStorage.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0" />    

    
</head>
<body>
  
  
 <!-- Start of navbar space -->
 <nav>
    <input type="checkbox" id="check">
    <label for="check">
        <i class="hidden-menu" id="hmenu">Menu</i>
    </label>
    <a href="index.html" class="logo">The Status Game</a>
    <ul>
        <li><a accesskey="a" href="index.html">Home</a></li>
        <li><a accesskey="q" href="profileMenu.html">Profile</a></li>

        <div>
          <input accesskey="d" type="checkbox" class="checkbox" id="chk"/>
          <label class="label" for="chk" >
            <i class="material-symbols-outlined" id="night" >clear_night</i>
            <i class="material-symbols-outlined" id="day">flare</i>
              <div class="ball"></div>
          </label>
      </div>
        

    </ul>
</nav>

<!-- End of navbar space -->

   <!-- Start main content space -->
    
   <div class="mainContent">
        
    <section class="one">

    <div class="maincontainer">
       <div class="maincontainer-rank"></div>
       <div class="maincontainer-days"></p>
     </div>   

<section> 
<div class="maincontainer-rankInfo"> 
  <ul>
     <p> The Status Game manual</p>
     <li>1: Slide Socials</li>
     <li>2: EXECUTE button quantity</li>
     <li>4: Leaderboard shows with 10 users socials in</li>
     <li>4: Users with more cash, flex higher position</li>
     <li>5: Add cash to ANOTHER user's socials</li>
     <li>6: Enjoy, there is 100 positions</li>
  </ul>
  <button onclick="checkSocials()" type="button"class="btnSocials">Socials</button>
 


  
  <div class="check-socials">

     <p id="nameCheck"></p>
     <p id="instagramCheck"></p>
     <p id="youtubeCheck"></p>
     <p id="twitchCheck"></p>
     <p id="redditCheck"></p>
     <p id="twitterCheck"></p>
     <p id="regionCheck"></p>
  </div>
</div>
</section>

</div>

<div class="subcontainer"> 
        <section class="socials">Socials</section>

            <!-- Start of imported Code Form-->
        <section class="network">

            <div class="container">

                <form action="#" name="socials" autocomplete="off" >
                   <div class="form-row">
                      <div class="input-data">
                         <input type="text" name="name" id="name" placeholder="johnife" maxlength="22">
                         <div class="underline"></div>
                         <label for="" >Name</label>
                      </div>

                      <div class="input-data">
                         <input type="text" name="region" id="region" placeholder="Japan" maxlength="10">
                         <div class="underline"></div>
                         <label for="">Region</label>
                      </div>

                   </div>
                   <div class="form-row">
                      <div class="input-data">
                         <input type="text" name="youtube" id="youtube" placeholder="lejohnyYT" maxlength="15">
                         <div class="underline"></div>
                         <label for="">Youtube</label>
                      </div>

                      <div class="input-data">
                         <input type="text" name="instagram" id="instagram" placeholder="lebigjohn" maxlength="15">
                         <div class="underline"></div>
                         <label for="">Instagram</label>
                      </div>
                   </div>

                   <div class="form-row">
                     <div class="input-data">
                        <input type="text" name="twitch" id="twitch" placeholder="jahnyTV" maxlength="15">
                        <div class="underline"></div>
                        <label for="">Twitch</label>
                     </div>

                     <div class="input-data">
                        <input type="text" name="twitter" id="twitter" placeholder="lebigjohna" maxlength="15">
                        <div class="underline"></div>
                        <label for="">Twitter</label>
                     </div>

                  </div>

                  <div class="form-row">
                     <div class="input-data">
                        <input type="text" name="reddit" id="reddit" placeholder="johnyoungboiSR" maxlength="10">
                        <div class="underline"></div>
                        <label for="">Reddit</label>
                     </div>
                  </div>
                  
                  <button type="button"class="btn" id="btn">Save</button>

                </form>

             </div>
        </section>
        <section class="buyrank"> 
          <button class="button" onclick="getDateNow(); getCashy('cashy', 100)" type="button" id="1-button">1$</button>
          <button class="button button2" onclick="getDateNow(); getCashy('cashy', 2000)" type="button" id="2-button">20$</button>
          <button class="button button3" onclick="getDateNow(); getCashy('cashy', 5000)" type="button" id="3-button">50$</button>
          <button class="button button4" onclick="getDateNow(); getCashy('cashy', 10000)" type="button" id="4-button">100$</button>
          <button class="button button5" onclick="getDateNow(); getCashy('cashy', 50000)" type="button" id="5-button">500$</button>
          <button class="button button6" onclick="getDateNow(); getCashy('cashy', 100000)" type="button" id="6-button">1k</button>
          <button class="button button7" onclick="getDateNow(); getCashy('cashy', 1000000)" type="button" id="7-button">10k</button>
          <button class="button button8" onclick="getDateNow(); getCashy('cashy', 10000000)" type="button" id="8-button">100k</button>
  
         </section>



    </div>

          
           
</section>
</div>
<script type="text/javascript">

//dark mode switch
const chk = document.getElementById('chk');
            chk.addEventListener('change', () => {
	        document.body.classList.toggle('white');        
            });

  //stripe supabase webhooks and
  

//func for checking socials in profile my myQuantity
function checkSocials() {
  let userArr = JSON.parse(localStorage.getItem('User'));
let pname = userArr[0].name;
let pinstagram = userArr[0].instagram;
let pyoutube = userArr[0].youtube;
let ptwitch = userArr[0].twitch;
let preddit = userArr[0].reddit;
let ptwitter = userArr[0].twitter;
//alive is a func value
let pregion = userArr[0].region;



  document.getElementById("nameCheck").innerText = "Name: " + pname;
  document.getElementById("instagramCheck").innerText = "IG: " + pinstagram;
  document.getElementById("youtubeCheck").innerText = "YT: " + pyoutube;
  document.getElementById("twitchCheck").innerText = "TTV: " + ptwitch;
  document.getElementById("redditCheck").innerText = "RED: " + preddit;
  document.getElementById("twitterCheck").innerText = "Twitter: " + ptwitter;
  document.getElementById("regionCheck").innerText = "Reg: " + pregion;

}




  function getDateNow() {
    localStorage.setItem("today", new Date().getTime())
}

  
    //encrypt both values
function getCashy(cashy, input) {
  localStorage.setItem("cashy", input)};

  
  const stripe = Stripe(process.env.STRIPE_TEST
                    );


                    
                    var checkoutButton1 = document.getElementById("1-button");

                    checkoutButton1.addEventListener("click", function () {
                      fetch("/api/stripe", {
                        method: "POST",
                        
                      })
                        .then(function (response) {
                          return response.json();
                        })
                        .then(function (session) {
                          return stripe.redirectToCheckout({ sessionId: session.id });
                          
                        })
                        .then(function (result) {
                          if (result.error) {
                            alert(result.error.message);
                          }
                        })
                        .catch(function (error) {
                          console.error("Error:", error);
                        });
                        
                    });

                                   
                    //2
                    var checkoutButton2 = document.getElementById("2-button");
                   
                
                    checkoutButton2.addEventListener("click", function () {
                      fetch("/api/stripe2", {
                        method: "POST",
                      })
                        .then(function (response) {
                          return response.json();
                        })
                        .then(function (session) {
                          return stripe.redirectToCheckout({ sessionId: session.id });
                          
                        })
                        .then(function (result) {
                          if (result.error) {
                            alert(result.error.message);
                          }
                        })
                        .catch(function (error) {
                          console.error("Error:", error);
                        });
                        
                    });
                    //3
                    var checkoutButton3 = document.getElementById("3-button");
                
                    checkoutButton3.addEventListener("click", function () {
                      fetch("/api/stripe3", {
                        method: "POST",
                      })
                        .then(function (response) {
                          return response.json();
                        })
                        .then(function (session) {
                          return stripe.redirectToCheckout({ sessionId: session.id });
                        })
                        .then(function (result) {
                          if (result.error) {
                            alert(result.error.message);
                          }
                        })
                        .catch(function (error) {
                          console.error("Error:", error);
                        });
                    });
                    //4
                    var checkoutButton4 = document.getElementById("4-button");
                
                checkoutButton4.addEventListener("click", function () {
                fetch("/api/stripe4", {
                method: "POST",
                })
                .then(function (response) {
                  return response.json();
                })
                .then(function (session) {
                  return stripe.redirectToCheckout({ sessionId: session.id });
                })
                .then(function (result) {
                  if (result.error) {
                    alert(result.error.message);
                  }
                })
                .catch(function (error) {
                  console.error("Error:", error);
                });
                });
                
                //5
                var checkoutButton5 = document.getElementById("5-button");
                
                checkoutButton5.addEventListener("click", function () {
                fetch("/api/stripe5", {
                method: "POST",
                })
                .then(function (response) {
                  return response.json();
                })
                .then(function (session) {
                  return stripe.redirectToCheckout({ sessionId: session.id });
                })
                .then(function (result) {
                  if (result.error) {
                    alert(result.error.message);
                  }
                })
                .catch(function (error) {
                  console.error("Error:", error);
                });
                });
                
                //6
                var checkoutButton6 = document.getElementById("6-button");
                
                checkoutButton6.addEventListener("click", function () {
                fetch("/api/stripe6", {
                method: "POST",
                })
                .then(function (response) {
                  return response.json();
                })
                .then(function (session) {
                  return stripe.redirectToCheckout({ sessionId: session.id });
                })
                .then(function (result) {
                  if (result.error) {
                    alert(result.error.message);
                  }
                })
                .catch(function (error) {
                  console.error("Error:", error);
                });
                });
                
                //7
                var checkoutButton7 = document.getElementById("7-button");
                
                checkoutButton7.addEventListener("click", function () {
                fetch("/api/stripe7", {
                method: "POST",
                })
                .then(function (response) {
                  return response.json();
                })
                .then(function (session) {
                  return stripe.redirectToCheckout({ sessionId: session.id });
                })
                .then(function (result) {
                  if (result.error) {
                    alert(result.error.message);
                  }
                })
                .catch(function (error) {
                  console.error("Error:", error);
                });
                });
                
                //8
                var checkoutButton8 = document.getElementById("8-button");
                
                checkoutButton8.addEventListener("click", function () {
                fetch("/api/stripe8", {
                method: "POST",
                
                })
                .then(function (response) {
                  return response.json();
                })
                .then(function (session) {
                  return stripe.redirectToCheckout({ sessionId: session.id });
                })
                .then(function (result) {
                  if (result.error) {
                    alert(result.error.message);
                  }
                })
                .catch(function (error) {
                  console.error("Error:", error);
                });
                });
                //scripts for calling supabase webhook stripe 



                async function handleSubmit(event) {
        event.preventDefault();
        document
          .querySelectorAll('button')
          .forEach((button) => (button.disabled = true));

        

        const response = await fetch('/api/stripe', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        }).then((res) => res.json());

        const stripe = Stripe(response.stripe);
        const { error } = await stripe.redirectToCheckout({
          sessionId: response.sessionId,
        });

        if (error) {
          document
            .querySelectorAll('button')
            .forEach((button) => (button.disabled = false));
          console.error(error);
        }
      }
                //copyfunc
//                 checkoutButton1.addEventListener("click", function () {
//                 fetch("/api/verifyPayment", {
//                 method: "POST",
//                 headers: {
//             'Content-Type': 'application/json',
//             body: JSON.stringify(data),
//           },
//                 })
//                 .then(function (response) {
//                   return response.json();
//                   const stripe = Stripe(response.publishableKey);
//                   const { error } = await stripe.redirectToCheckout({
//                   sessionId: response.sessionId,
//                 });

//         if (error) {
//           console.error(error);
//         }
//                 })
//                 .then(function (result) {
//                   if (result.error) {
//                     alert(result.error.message);
//                   }
//                 })
//                 .catch(function (error) {
//                   console.error("Error:", error);
//                 });
//                 });


// async function handleSubmit(event) {
//         event.preventDefault();
//         const response = await fetch('/api/verifyPayment', {
//           method: 'POST',
//           headers: {
//             'Content-Type': 'application/json',
//           },
//           body: JSON.stringify(data),
//         }).then((res) => res.json());

//         const stripe = Stripe(response.publishableKey);
//         const { error } = await stripe.redirectToCheckout({
//           sessionId: response.sessionId,
//         });

//         if (error) {
//           console.error(error);
//         }
//       }

                

                       

    // let users = [];
    //     const addUser = (ev)=>{
    //         event.preventDefault();  
    //         let user = {
    //             name: document.getElementById('name').value,
    //             instagram: document.getElementById('instagram').value,
    //             youtube: document.getElementById('youtube').value,
    //             twitch: document.getElementById('twitch').value,
    //             reddit: document.getElementById('reddit').value,
    //             twitter: document.getElementById('twitter').value,
    //             // alive: document.getElementById('alive').value, //change this to new func
    //             region: document.getElementById('region').value,
    //         }
    //         users.push(user);
    //         document.forms[0].reset(); 

    //         localStorage.setItem('User', JSON.stringify(users) );
    //     }
    //     document.addEventListener('DOMContentLoaded', ()=>{
    //         document.getElementById('btn').addEventListener('click', addUser);
    //     });
                
// document.getElementById('btn').addEventListener('click', myFunction());
// document.getElementById('save-socials').addEventListener('click', checkSocials());

                    
async function handleSubmit(event) {
        event.preventDefault();
        const response = await fetch('/api/paysuc.js', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        }).then((res) => res.json());
        const { error } = await stripe.redirectToCheckout({
          sessionId: response.sessionId,
        });

        if (error) {
          console.error(error);
        }
      }
  
                  </script>




  

    
  </div>
</body>
</html>
